!function(e,t){if("object"===typeof exports&&"object"===typeof module)module.exports=t();else if("function"===typeof define&&define.amd)define([],t);else{var i=t();for(var r in i)("object"===typeof exports?exports:e)[r]=i[r]}}(self,(function(){return function(){"use strict";var e={n:function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},d:function(t,i){for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:function(){return ze}});var i,r,o=require("@babel/runtime-corejs3/core-js/reflect/construct"),n=e.n(o),l=require("@babel/runtime-corejs3/core-js/object/keys"),s=e.n(l),a=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols"),c=e.n(a),u=require("@babel/runtime-corejs3/core-js/instance/filter"),d=e.n(u),f=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor"),v=e.n(f),h=require("@babel/runtime-corejs3/core-js/instance/for-each"),m=e.n(h),p=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors"),S=e.n(p),z=require("@babel/runtime-corejs3/core-js/object/define-properties"),g=e.n(z),I=require("@babel/runtime-corejs3/core-js/object/define-property"),b=e.n(I),y=require("@babel/runtime-corejs3/helpers/defineProperty"),T=e.n(y),x=require("@babel/runtime-corejs3/helpers/classCallCheck"),O=e.n(x),A=require("@babel/runtime-corejs3/helpers/createClass"),j=e.n(A),M=require("@babel/runtime-corejs3/helpers/inherits"),w=e.n(M),E=require("@babel/runtime-corejs3/helpers/possibleConstructorReturn"),C=e.n(E),L=require("@babel/runtime-corejs3/helpers/getPrototypeOf"),P=e.n(L),D=require("@babel/runtime-corejs3/core-js/array/is-array"),N=e.n(D),R=require("@babel/runtime-corejs3/core-js/instance/map"),k=e.n(R),q=require("react"),F=e.n(q),G=require("@babel/runtime-corejs3/core-js/instance/concat"),H=e.n(G);!function(e){e.AUTO="auto",e.START="start",e.CENTER="center",e.END="end"}(i||(i={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(r||(r={}));var V=function(){function e(t){var i=t.limit,r=t.dataSource,o=t.itemSizeGetter,n=t.estimatedItemSize;O()(this,e),this.limit=void 0,this.itemSizeGetter=void 0,this.estimatedItemSize=void 0,this.itemSizeAndPositionData=void 0,this.lastMeasuredIndex=void 0,this.defaultSizeAndPosition=void 0,this.itemSizeGetter=o,this.limit=Math.min(i||0,(null===r||void 0===r?void 0:r.length)||0),this.estimatedItemSize=n,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.defaultSizeAndPosition={size:0,offset:0}}return j()(e,[{key:"updateConfig",value:function(e){var t=e.limit,i=e.itemSizeGetter,r=e.dataSource,o=e.estimatedItemSize;null!=t&&(this.limit=Math.min(t,(null===r||void 0===r?void 0:r.length)||0)),null!=o&&(this.estimatedItemSize=o),null!=i&&(this.itemSizeGetter=i)}},{key:"getLastMeasuredIndex",value:function(){return this.lastMeasuredIndex}},{key:"getSizeAndPositionForIndex",value:function(e){var t;if(e<0||e>=this.limit)return console.warn(H()(t="Requested index ".concat(e," is outside of range [0, ")).call(t,this.limit,"]")),this.defaultSizeAndPosition;if(e>this.lastMeasuredIndex){for(var i=this.getSizeAndPositionOfLastMeasuredItem(),r=i.offset+i.size,o=this.lastMeasuredIndex+1;o<=e;o++){var n=this.itemSizeGetter(o);if(null==n||isNaN(n))return this.defaultSizeAndPosition;this.itemSizeAndPositionData[o]={offset:r,size:n},r+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredItem",value:function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:this.defaultSizeAndPosition}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.limit-this.lastMeasuredIndex-1)*this.estimatedItemSize}},{key:"getUpdatedScrollForIndex",value:function(e){var t=e.align,r=void 0===t?i.START:t,o=e.containerSize,n=e.currentOffset,l=e.targetIndex;if(o<=0||this.limit<=0)return 0;var s,a=this.getSizeAndPositionForIndex(l),c=a.offset,u=c-o+a.size;switch(r){case i.END:s=u;break;case i.CENTER:s=c-(o-a.size)/2;break;case i.START:s=c;break;default:s=Math.max(u,Math.min(c,n))}var d=this.getTotalSize();return Math.max(0,Math.min(d-o,s))}},{key:"getVisibleRange",value:function(e){var t=e.containerSize,i=e.scrollSize,r=e.overscanCount;if(0===this.getTotalSize()||this.limit<=0)return{};var o=i+t,n=this.findNearestItem(i);if("undefined"===typeof n)throw Error("Invalid scrollSize ".concat(i," specified"));for(var l=n,s=this.getSizeAndPositionForIndex(n),a=this.getSizeAndPositionForIndex(l),c=s.size+i;c<o&&l<this.limit-1;)l++,c+=a.size;return r&&(n=Math.max(0,n-r),l=Math.min(l+r,this.limit-1)),{start:n,stop:l}}},{key:"resetItem",value:function(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}},{key:"findNearestItem",value:function(e){if(isNaN(e))throw Error("Invalid scrollSize ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:i,low:0,scrollSize:e}):this.exponentialSearch({index:i,scrollSize:e})}},{key:"binarySearch",value:function(e){for(var t=e.low,i=e.high,r=e.scrollSize,o=0,n=0;t<=i;){if(o=t+Math.floor((i-t)/2),(n=this.getSizeAndPositionForIndex(o).offset)===r)return o;n<r?t=o+1:n>r&&(i=o-1)}return t>0?t-1:0}},{key:"exponentialSearch",value:function(e){for(var t=e.index,i=e.scrollSize,r=1;t<this.limit&&this.getSizeAndPositionForIndex(t).offset<i;)t+=r,r*=2;return this.binarySearch({high:Math.min(t,this.limit-1),low:Math.floor(t/2),scrollSize:i})}}]),e}(),Z=require("@babel/runtime-corejs3/core-js/instance/includes"),U=e.n(Z);function _(e,t){var i=s()(e);if(c()){var r=c()(e);t&&(r=d()(r).call(r,(function(t){return v()(e,t).enumerable}))),i.push.apply(i,r)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i,r,o=null!=arguments[t]?arguments[t]:{};t%2?m()(i=_(Object(o),!0)).call(i,(function(t){T()(e,t,o[t])})):S()?g()(e,S()(o)):m()(r=_(Object(o))).call(r,(function(t){b()(e,t,v()(o,t))}))}return e}var W,J,K,Q,X,Y,$,ee,te=["Moz","Webkit","O","ms"];function ie(e,t){for(var i,r="",o=!0,n=0;n<e.length;n++)o?(r+=e[n].toUpperCase(),o=!1):"-"===e[n]?o=!0:r+=e[n];return t?H()(i="".concat(t)).call(i,r):e}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return e;for(var i=0;i<te.length;i++)if(ie(e,te[i])in t)return ie(e,te[i]);return""}var oe=(W={},T()(W,r.VERTICAL,"scrollTop"),T()(W,r.HORIZONTAL,"scrollLeft"),W),ne=(J={},T()(J,r.VERTICAL,"height"),T()(J,r.HORIZONTAL,"width"),J),le=(K={},T()(K,r.VERTICAL,"clientHeight"),T()(K,r.HORIZONTAL,"clientWidth"),K),se=(Q={},T()(Q,r.VERTICAL,"top"),T()(Q,r.HORIZONTAL,"left"),Q),ae=(X={},T()(X,r.VERTICAL,"marginTop"),T()(X,r.HORIZONTAL,"marginLeft"),Y={},T()(Y,r.VERTICAL,"marginBottom"),T()(Y,r.HORIZONTAL,"marginRight"),{overflow:"auto",willChange:"transform"}),ce=($={},T()($,re("position"),"relative"),T()($,"width","100%"),T()($,"minHeight","100%"),$),ue=(ee={},T()(ee,re("position"),"absolute"),T()(ee,"top",0),T()(ee,"left",0),T()(ee,"width","100%"),ee),de=require("react-fast-compare"),fe=e.n(de);function ve(e,t){return fe()(e,t)}function he(e,t){var i=s()(e);if(c()){var r=c()(e);t&&(r=d()(r).call(r,(function(t){return v()(e,t).enumerable}))),i.push.apply(i,r)}return i}function me(e){for(var t=1;t<arguments.length;t++){var i,r,o=null!=arguments[t]?arguments[t]:{};t%2?m()(i=he(Object(o),!0)).call(i,(function(t){T()(e,t,o[t])})):S()?g()(e,S()(o)):m()(r=he(Object(o))).call(r,(function(t){b()(e,t,v()(o,t))}))}return e}function pe(e){var t=function(){if("undefined"===typeof Reflect||!n())return!1;if(n().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=P()(e);if(t){var o=P()(this).constructor;i=n()(r,arguments,o)}else i=r.apply(this,arguments);return C()(this,i)}}var Se=function(e){w()(i,e);var t=pe(i);function i(e){var r;return O()(this,i),(r=t.call(this,e)).styleCache=void 0,r.wrap=void 0,r.itemSizeGetter=function(e){return function(t){return"function"===typeof e?e(t):N()(e)?e[t]:e}},r.manager=new V({limit:r.props.limit,dataSource:r.props.dataSource,itemSizeGetter:r.itemSizeGetter(r.props.itemSize),estimatedItemSize:r.props.estimatedItemSize}),r.recomputeSizes=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;r.styleCache={},null===(e=r.manager)||void 0===e||e.resetItem(t)},r.scrollTo=function(e){var t=r.findDOMNode();t&&function(e,t,i){var r;U()(r=[document.documentElement,document.body]).call(r,e)?(document.documentElement.scrollTop=i||0,document.documentElement.scrollLeft=t||0):e?(e.scrollTop=i||0,e.scrollLeft=t||0):window&&window.scrollTo(t||0,i||0)}(t,0,e)},r.getScrollForIndex=function(e){var t,i=r.props,o=i.dataSource,n=i.limit,l=i.scrollToAlignment,s=i.scrollDirection,a=r.state.scrollSize,c=r.findDOMNode(),u=Math.min((null===o||void 0===o?void 0:o.length)||0,n||0);return(e<0||e>=u)&&(e=0),null===(t=r.manager)||void 0===t?void 0:t.getUpdatedScrollForIndex({align:l,containerSize:c[le[s]]||0,currentOffset:a||0,targetIndex:e})},r.handleScroll=function(e){var t,i,o=r.findDOMNode(),n=r.getNodeScrollOffset(),l=r.state.scrollSize;n<0||l===n||e.target!==o||(r.setState({scrollSize:n,canSetScroll:!1}),(null===(t=r.props)||void 0===t?void 0:t.onScroll)&&(null===(i=r.props)||void 0===i||i.onScroll(e,n)))},r.getNodeScrollOffset=function(){var e=r.props.scrollDirection;return r.findDOMNode()[oe[e]]},r.styleCache={},r.state={scrollSize:r.props.scrollOffset||null!=r.props.scrollToIndex&&r.getScrollForIndex(r.props.scrollToIndex)||0,canSetScroll:!0},r}return j()(i,[{key:"componentDidMount",value:function(){var e=this.findDOMNode();e&&function(e,t,i,r){if(e){var o=B({capture:!1,once:!1,passive:!1},r);e.addEventListener?e.addEventListener(t,i,o):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}}(e,"scroll",this.handleScroll,{passive:!0});var t=this.state.scrollSize;this.scrollTo(t)}},{key:"componentWillUnmount",value:function(){!function(e,t,i,r){if(e){var o=B({capture:!1,once:!1,passive:!1},r);e.removeEventListener?e.removeEventListener(t,i,o):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=null}}(this.findDOMNode(),"scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){var i,r,o,n,l,s,a,c,u,d,f,v=this.state.scrollSize!==t.scrollSize,h=!ve(this.props.dataSource,null===e||void 0===e?void 0:e.dataSource),m=this.props.limit!==e.limit,p=this.props.itemSize!==(null===e||void 0===e?void 0:e.itemSize),S=this.props.estimatedItemSize!==(null===e||void 0===e?void 0:e.estimatedItemSize),z=this.props.scrollToAlignment!==(null===e||void 0===e?void 0:e.scrollToAlignment),g=this.props.scrollOffset!==(null===e||void 0===e?void 0:e.scrollOffset),I=this.props.scrollToIndex!==(null===e||void 0===e?void 0:e.scrollToIndex),b=this.props.scrollDirection!==(null===e||void 0===e?void 0:e.scrollDirection);if((h||m||p||S||z||g||I||b)&&(null!==(i=this.props)&&void 0!==i&&null!==(r=i.dataSource)&&void 0!==r&&r.length))if("number"===typeof(null===(o=this.props)||void 0===o?void 0:o.scrollToIndex)){var y,T=this.getScrollForIndex(null===(y=this.props)||void 0===y?void 0:y.scrollToIndex);this.setState({scrollSize:T,canSetScroll:!0})}else if("number"===typeof(null===(n=this.props)||void 0===n?void 0:n.scrollOffset)){var x;this.setState({scrollSize:null===(x=this.props)||void 0===x?void 0:x.scrollOffset,canSetScroll:!0})}(h||m||S||p)&&(null===(l=this.manager)||void 0===l||l.updateConfig({limit:null===(s=this.props)||void 0===s?void 0:s.limit,dataSource:null===(a=this.props)||void 0===a?void 0:a.dataSource,estimatedItemSize:null===(c=this.props)||void 0===c?void 0:c.estimatedItemSize,itemSizeGetter:this.itemSizeGetter(this.props.itemSize)}),null!==(u=this.props)&&void 0!==u&&null!==(d=u.dataSource)&&void 0!==d&&d.length&&this.recomputeSizes());(v||h&&this.state.canSetScroll)&&this.scrollTo(null===(f=this.state)||void 0===f?void 0:f.scrollSize)}},{key:"findDOMNode",value:function(){return this.wrap}},{key:"render",value:function(){var e,t,i,o=this,n=this.props,l=n.className,s=n.style,a=n.children,c=n.scrollDirection,u=n.width,d=n.height,f=n.overscanCount,v=null===(e=this.manager)||void 0===e?void 0:e.getVisibleRange({containerSize:this.props[ne[c]]||0,scrollSize:this.state.scrollSize,overscanCount:f}),h=v.start,m=v.stop,p=me(me(me({},ae),s),{},{height:d,width:u}),S=me(me({},ce),{},T()({},ne[c],null===(t=this.manager)||void 0===t?void 0:t.getTotalSize()),c===r.HORIZONTAL?{display:"flex"}:{});return F().createElement("div",{ref:function(e){return o.wrap=e},className:l,style:p},F().createElement("div",{style:S},k()(i=F().Children).call(i,a,(function(e,t){if("undefined"!==typeof h&&"undefined"!==typeof m&&t>=h&&t<=m){var i=function(e){var t,i,r,n=null===(t=o.styleCache)||void 0===t?void 0:t[e];if(n)return n;var l=null===(i=o.manager)||void 0===i?void 0:i.getSizeAndPositionForIndex(e),s=l.size,a=l.offset;return o.styleCache[e]=me(me({},ue),{},(r={},T()(r,ne[c],s),T()(r,se[c],a),r)),o.styleCache[e]}(t);return F().cloneElement(F().Children.only(e),{style:me(me({},e.props.style),i)})}}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var i=e.limit!==t.prevLimit,r=!ve(e.dataSource,null===t||void 0===t?void 0:t.prevDataSource),o=e.itemSize!==(null===t||void 0===t?void 0:t.prevItemSize),n=e.estimatedItemSize!==(null===t||void 0===t?void 0:t.prevEstimatedItemSize),l=e.scrollToAlignment!==(null===t||void 0===t?void 0:t.prevScrollToAlignment),s=e.scrollOffset!==(null===t||void 0===t?void 0:t.prevScrollOffset),a=e.scrollToIndex!==(null===t||void 0===t?void 0:t.prevScrollToIndex),c=e.scrollDirection!==(null===t||void 0===t?void 0:t.prevScrollDirection);return i?me(me({},t),{},{prevLimit:e.limit}):r?me(me({},t),{},{prevDataSource:e.dataSource}):o?me(me({},t),{},{prevItemSize:null===e||void 0===e?void 0:e.itemSize}):n?me(me({},t),{},{prevEstimatedItemSize:null===e||void 0===e?void 0:e.estimatedItemSize}):l?me(me({},t),{},{prevScrollToAlignment:null===e||void 0===e?void 0:e.scrollToAlignment}):s?me(me({},t),{},{prevScrollOffset:null===e||void 0===e?void 0:e.scrollOffset}):a?me(me({},t),{},{prevScrollToIndex:null===e||void 0===e?void 0:e.scrollToIndex}):c?me(me({},t),{},{prevScrollDirection:null===e||void 0===e?void 0:e.scrollDirection}):null}}]),i}(F().Component);Se.defaultProps={overscanCount:3,scrollDirection:r.VERTICAL,scrollToAlignment:i.START,estimatedItemSize:50,width:"100%"};var ze=Se;return t}()}));